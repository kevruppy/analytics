version: 2

models:
  - name: int_orders_base_placement_provisions
    description: Contains orders, their base provision & their placement provision (if applicable)
    config:
      enabled: True
      schema: intermediate
      materialized: table
    columns:
      - name: ORDER_ID
        description: "{{ var('dsc_order_id') }}"
        data_type: INTEGER
        data_tests:
          - not_null
          - unique
      - name: GROSS_BASE_PROVISION_VALUE
        description: Gross base provision of an order (all orders)
        data_type: FLOAT
        data_tests:
          - dbt_utils.accepted_range:
            min_value: 0
      - name: GROSS_PLACEMENT_PROVISION_VALUE
        description: Gross placement provision of an order (all orders if applicable)
        data_type: FLOAT
        data_tests:
          - dbt_utils.accepted_range:
            min_value: 0
      - name: NET_BASE_PROVISION_VALUE
        description: Net base provision of an order (only confirmed orders)
        data_type: FLOAT
        data_tests:
          - dbt_utils.accepted_range:
            min_value: 0
      - name: NET_PLACEMENT_PROVISION_VALUE
        description: Net placement provision of an order (only confirmed orders if applicable)
        data_type: FLOAT
        data_tests:
          - dbt_utils.accepted_range:
            min_value: 0
